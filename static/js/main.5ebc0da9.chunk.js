(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(43)},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),c=a.n(o),s=a(2),l=a(13),i=a(14),u=a(18),h=a(15),m=a(19),p=a(16),g=a.n(p),f=(a(42),function(e){var t=e.items,a=e.searchPhones,n=e.columnConfig;return r.a.createElement("div",{className:"header__search"},r.a.createElement("label",{htmlFor:"search"},"Search:",r.a.createElement("input",{id:"search",type:"search",onChange:function(e){var r=e.target.value.toLowerCase(),o=Object.keys(n).filter(function(e){return n[e].isSearchable}),c=t.filter(function(e){return o.map(function(t){return e[t]}).join("").toLowerCase().includes(r)});a(c)},autoComplete:"off",className:"header__input"})))}),b=function(e){var t=e.items,a=e.showItems,n=e.handleShowItems,o=e.searchPhones,c=e.columnConfig;return r.a.createElement("header",{className:"table__header"},r.a.createElement("div",null,"Show",r.a.createElement("select",{name:"entries",onChange:function(e){return n(e.target.value)},className:"header__select"},[5,10,15,20].map(function(e){return r.a.createElement("option",{key:e,vlalue:e,defaultValue:e===a},e)})),"entries"),r.a.createElement(f,{items:t,searchPhones:o,columnConfig:c}))},d=function(e){var t=e.items,a=e.columnConfig,n=e.sortPhones,o=e.tabs,c=o.perPage*o.page-(o.perPage-1),l=o.perPage*o.page>=t.length?t.length:o.perPage*o.page,i=t.filter(function(e,t){return t+1>=c&&t+1<=l});return r.a.createElement("table",{className:"data-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,Object.keys(a).map(function(e){return r.a.createElement("th",{key:a[e].title,onClick:function(){return function(e){i.sort(function(t,a){switch(typeof t[e]){case"string":return t[e].localeCompare(a[e]);case"number":return t[e]-a[e];default:return 0}}),i[0].id===t[c-1].id&&i.reverse(),t.splice.apply(t,[c-1,i.length].concat(Object(s.a)(i))),n(t)}(e)}},a[e].title)}))),r.a.createElement("tbody",null,i.map(function(e){return r.a.createElement("tr",{key:e.id},Object.keys(a).map(function(t){return r.a.createElement("td",{key:e[t]},e[t])}))})))},E=a(17),P=a.n(E),v=function(e){var t=e.total,a=e.page,n=e.perPage,o=e.onPageChange,c=Math.ceil(t/n),s=function(e){var t=e.target.textContent;switch(t){case"Next":o(a+1>c?c:a+1);break;case"Prev":o(a-1<1?1:a-1);break;default:o(+t)}};return r.a.createElement("div",{className:"table__pagination"},r.a.createElement("button",{className:"pagination__button",type:"button",onClick:s},"Prev"),Array(c).fill("").map(function(e,t){return r.a.createElement("button",{type:"button",className:"pagination__button\n          ".concat(P()({selectButton:t+1===a})),onClick:s},t+1)}),r.a.createElement("button",{type:"button",onClick:s,className:"pagination__button"},"Next"))},C=function(e){var t=e.items,a=e.tabs,n=e.handleTabs,o=a.perPage*a.page-(a.perPage-1),c=a.perPage*a.page>=t.length?t.length:a.perPage*a.page;return r.a.createElement("footer",{className:"table__footer"},r.a.createElement("p",{className:"footer__info"},"\n          Showing ".concat(o," to ").concat(c,"\n          of ").concat(t.length," entries\n        ")),r.a.createElement(v,{total:t.length,page:a.page,perPage:a.perPage,onPageChange:n}))},y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).phonesFromServer=[],a.state={phones:Object(s.a)(a.phonesFromServer),tabs:{page:1,perPage:5}},a.columnConfig={name:{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",sortType:"string",isSearchable:!0},age:{title:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",sortType:"number"},snippet:{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",isSearchable:!0}},a.handleUpdatePhones=function(e){return a.setState({phones:e})},a.handleShowItems=function(e){return a.setState({tabs:{page:1,perPage:e}})},a.handleTabs=function(e){return a.setState(function(t){return{tabs:{page:e,perPage:t.tabs.perPage}}})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this;g.a.get("https://mate-academy.github.io/phone-catalogue-static/api/phones.json").then(function(a){e.phonesFromServer=a.data,t.setState({phones:a.data})}).catch(function(){console.log("failed to get data")})}},{key:"render",value:function(){var e=this.state,t=e.phones,a=e.tabs;return r.a.createElement("section",{className:"app__table"},r.a.createElement(b,{items:this.phonesFromServer,showItems:a.perPage,handleShowItems:this.handleShowItems,searchPhones:this.handleUpdatePhones,columnConfig:this.columnConfig}),r.a.createElement(d,{items:t,tabs:a,columnConfig:this.columnConfig,onSelectionChanged:function(e){},sortPhones:this.handleUpdatePhones}),r.a.createElement(C,{items:t,tabs:a,handleTabs:this.handleTabs}))}}]),t}(r.a.Component);c.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.5ebc0da9.chunk.js.map